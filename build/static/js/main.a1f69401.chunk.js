(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{24:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t(1),a=t.n(c),o=t(17),i=t.n(o),u=(t(24),t(18)),s=t(8),d=t(3),b=t(4),j=t.n(b),l=function(e){return Object(r.jsxs)("div",{children:["filter shown with ",Object(r.jsx)("input",{value:e.filter,onChange:e.handler})]})},f=function(e){return Object(r.jsxs)("form",{onSubmit:e.onSubmit,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Add a new"}),"name: ",Object(r.jsx)("input",{value:e.name,onChange:e.onNameChange})]}),Object(r.jsxs)("div",{children:["number: ",Object(r.jsx)("input",{value:e.number,onChange:e.onNumberChange})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",children:"add"})})]})},h="/api/persons",m=function(){return j.a.get(h)},O=function(e){return j.a.post(h,e)},g=function(e){return j.a.delete("".concat(h,"/").concat(e))},p=function(e){return j.a.put("".concat(h,"/").concat(e.id),e)},x=function(e){return Object(r.jsx)("div",{children:e.persons.filter((function(n){return n.name.toLowerCase().includes(e.filter.toLowerCase())})).map((function(n){return Object(r.jsxs)("p",{children:[n.name," ",n.number,Object(r.jsx)("button",{onClick:function(){return t=n.id,r=n.name,void(!0===window.confirm("Are you sure you want to remove ".concat(r,"?"))&&g(t).then(e.setPersons(e.persons.filter((function(e){return e.id!==t})))));var t,r},children:"remove"})]},n.name)}))})},v=function(e){var n=e.message,t={color:e.messageColor,background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"};return 0===n.length?null:Object(r.jsx)("div",{style:t,children:n})},w=t.p+"static/media/doggo.3e488edf.gif",C=function(){var e=Object(c.useState)([]),n=Object(d.a)(e,2),t=n[0],a=n[1],o=Object(c.useState)(""),i=Object(d.a)(o,2),b=i[0],j=i[1],h=Object(c.useState)(""),g=Object(d.a)(h,2),C=g[0],S=g[1],y=Object(c.useState)(""),k=Object(d.a)(y,2),P=k[0],N=k[1],F=Object(c.useState)(""),L=Object(d.a)(F,2),B=L[0],D=L[1],I=Object(c.useState)("green"),A=Object(d.a)(I,2),E=A[0],J=A[1];Object(c.useEffect)((function(){m().then((function(e){a(e.data)}))}),[]);return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Phonebook"}),Object(r.jsx)(v,{message:B,messageColor:E}),Object(r.jsx)(l,{filter:P,handler:function(e){e.preventDefault(),N(e.target.value)}}),Object(r.jsx)(f,{onSubmit:function(e){if(e.preventDefault(),t.map((function(e){return e.name})).includes(b)){var n=t.find((function(e){return e.name===b}));if(n.number===C)window.alert("".concat(b," is already added to phonebook"));else if(!0===window.confirm("".concat(b," is already added to phonebook, replace\n        old number with the new one?"))){var r=Object(s.a)(Object(s.a)({},n),{},{number:C});p(r).then((function(e){var n=t.findIndex((function(e){return e.name===b})),r=Object(u.a)(t);r[n]=e.data,a(r)})).catch((function(e){J("red"),D("information of ".concat(n.name," was already deleted from the server. Please refresh page."))}))}}else{var c={name:b,number:C};O(c).then((function(e){a(t.concat(e.data)),j(""),S(""),J("green"),D("User '".concat(c.name,"' was added"))}))}},name:b,onNameChange:function(e){j(e.target.value)},number:C,onNumberChange:function(e){S(e.target.value)}}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Numbers"}),Object(r.jsx)(x,{persons:t,setPersons:a,filter:P})]}),Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:w})})]})},S=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,43)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),r(e),c(e),a(e),o(e)}))};i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(C,{})}),document.getElementById("root")),S()}},[[42,1,2]]]);
//# sourceMappingURL=main.a1f69401.chunk.js.map