(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{24:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t(1),a=t.n(c),o=t(17),i=t.n(o),u=(t(24),t(18)),s=t(8),d=t(3),b=t(4),l=t.n(b),j=function(e){return Object(r.jsxs)("div",{children:["filter shown with ",Object(r.jsx)("input",{value:e.filter,onChange:e.handler})]})},f=function(e){return Object(r.jsxs)("form",{onSubmit:e.onSubmit,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Add a new"}),"name: ",Object(r.jsx)("input",{value:e.name,onChange:e.onNameChange})]}),Object(r.jsxs)("div",{children:["number: ",Object(r.jsx)("input",{value:e.number,onChange:e.onNumberChange})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",children:"add"})})]})},h="https://evening-waters-52322.herokuapp.com/api/persons",m=function(){return l.a.get(h)},O=function(e){return l.a.post(h,e)},p=function(e){return l.a.delete("".concat(h,"/").concat(e))},g=function(e){return l.a.put("".concat(h,"/").concat(e.id),e)},v=function(e){return Object(r.jsx)("div",{children:e.persons.filter((function(n){return n.name.toLowerCase().includes(e.filter.toLowerCase())})).map((function(n){return Object(r.jsxs)("p",{children:[n.name," ",n.number," ",n.id,Object(r.jsx)("button",{onClick:function(){return t=n.id,r=n.name,void(!0===window.confirm("Are you sure you want to remove ".concat(r,"?"))&&p(t).then(e.setPersons(e.persons.filter((function(e){return e.id!==t})))));var t,r},children:"remove"})]},n.name)}))})},x=function(e){var n=e.message,t={color:e.messageColor,background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"};return 0===n.length?null:Object(r.jsx)("div",{style:t,children:n})},w=function(){var e=Object(c.useState)([]),n=Object(d.a)(e,2),t=n[0],a=n[1],o=Object(c.useState)(""),i=Object(d.a)(o,2),b=i[0],l=i[1],h=Object(c.useState)(""),p=Object(d.a)(h,2),w=p[0],C=p[1],S=Object(c.useState)(""),y=Object(d.a)(S,2),k=y[0],P=y[1],N=Object(c.useState)(""),F=Object(d.a)(N,2),L=F[0],B=F[1],D=Object(c.useState)("green"),I=Object(d.a)(D,2),A=I[0],E=I[1];Object(c.useEffect)((function(){m().then((function(e){a(e.data)}))}),[]);return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Phonebook"}),Object(r.jsx)(x,{message:L,messageColor:A}),Object(r.jsx)(j,{filter:k,handler:function(e){e.preventDefault(),P(e.target.value)}}),Object(r.jsx)(f,{onSubmit:function(e){if(e.preventDefault(),t.map((function(e){return e.name})).includes(b)){var n=t.find((function(e){return e.name===b}));if(n.number===w)window.alert("".concat(b," is already added to phonebook"));else if(!0===window.confirm("".concat(b," is already added to phonebook, replace\n        old number with the new one?"))){var r=Object(s.a)(Object(s.a)({},n),{},{number:w});g(r).then((function(e){var n=t.findIndex((function(e){return e.name===b})),r=Object(u.a)(t);r[n]=e.data,a(r)})).catch((function(e){E("red"),B("information of ".concat(n.name," was already deleted from the server. Please refresh page."))}))}}else{var c={name:b,number:w};O(c).then((function(e){a(t.concat(e.data)),l(""),C(""),E("green"),B("User '".concat(c.name,"' was added"))}))}},name:b,onNameChange:function(e){l(e.target.value)},number:w,onNumberChange:function(e){C(e.target.value)}}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Numbers"}),Object(r.jsx)(v,{persons:t,setPersons:a,filter:k})]})]})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,43)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),r(e),c(e),a(e),o(e)}))};i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(w,{})}),document.getElementById("root")),C()}},[[42,1,2]]]);
//# sourceMappingURL=main.5a0dc885.chunk.js.map